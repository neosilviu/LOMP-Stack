# WordPress LOMP Stack - Clean & Minimal Approach

> **Philosophy: Only What You Need** ğŸ¯  
> **Multi-Language Support: ğŸ‡·ğŸ‡´ ğŸ‡¬ğŸ‡§ ğŸ‡ªğŸ‡¸ ğŸ‡«ğŸ‡· ğŸ‡©ğŸ‡ª**

This WordPress LOMP stack prioritizes **system cleanliness** and **minimal installations**. No bloat, no unnecessary packages - only what you actually need.

**First Step: Language Selection** - All installation scripts start with language selection for better user experience.

## ğŸš€ **Quick Start**

### ğŸ›ï¸ **Interactive Installation (Recommended)**
```bash
# Complete guided installation with language and mode selection
sudo bash minimal_install.sh
```

### ğŸ¯ **Command Line Installation**
```bash
# Ultra-minimal (Nginx + WordPress)
sudo bash minimal_install.sh --ultra

# Advanced mode (custom configuration)
sudo bash minimal_install.sh --advanced

# Debug mode (detailed logging)
sudo bash minimal_install.sh --debug

# Verbose mode (ultra-detailed output)  
sudo bash minimal_install.sh --verbose

# Standard minimal (OpenLiteSpeed) - default when no parameters
sudo bash minimal_install.sh
```

### ğŸš€ **Zero-Interaction Auto Install**
```bash
# Completely automated with Cloudflare Tunnel
sudo bash auto_install.sh --tunnel-id YOUR_TUNNEL_ID --auto

# Auto install with custom domain and email
sudo bash auto_install.sh --tunnel-id abc123 --domain example.com --email admin@example.com --auto

# Interactive mode (asks for tunnel ID only)
sudo bash auto_install.sh
```

**Auto Install Features:**
- ğŸ”„ **Zero Interaction:** Complete automation with `--auto` flag
- ğŸŒ **Cloudflare Integration:** Automatic tunnel setup
- ğŸ” **Auto-Generated Credentials:** Secure passwords and configurations
- ğŸ“ **Full Logging:** Complete installation logs

### ğŸ“¦ **Component Manager**
```bash
# Add components after installation
sudo bash component_manager.sh
```
**Add when needed:** Redis, AI Dashboard, Cloudflare, Monitoring, etc.

## ğŸŒ **Supported Languages**

- ğŸ‡·ğŸ‡´ **RomÃ¢nÄƒ** (Romanian) - Default
- ğŸ‡¬ğŸ‡§ **English** 
- ğŸ‡ªğŸ‡¸ **EspaÃ±ol** (Spanish)
- ğŸ‡«ğŸ‡· **FranÃ§ais** (French) 
- ğŸ‡©ğŸ‡ª **Deutsch** (German)

## ğŸš€ **Installation Modes**

### Installation Mode Options:

#### â­ **1. Standard Minimal** (Default)
- **Web Server:** OpenLiteSpeed with admin panel
- **Database:** MariaDB 
- **Features:** PHP 8.1, WP-CLI, Basic Security
- **Best for:** Production sites, performance optimization
- **Resources:** ~500MB | **Memory:** ~300MB

#### âš¡ **2. Ultra-Minimal** 
- **Web Server:** Nginx-light (minimal resources)
- **Database:** MariaDB
- **Features:** PHP 8.1, WordPress core only
- **Best for:** Testing, development, resource-constrained systems
- **Resources:** ~300MB | **Memory:** ~200MB

#### âš™ï¸ **3. Advanced Configuration**
- **Web Server:** Choose from OpenLiteSpeed/Nginx/Apache
- **Database:** Choose from MariaDB/MySQL/External
- **Security:** Optional firewall, fail2ban, advanced security
- **Performance:** Optional caching, compression, optimization

#### ğŸ” **4. Debug Mode**
- **Base:** Standard Minimal + Detailed logging
- **Features:** Complete installation logs, step-by-step tracking
- **Log Location:** `/var/log/wordpress-installer/`
- **Best for:** Troubleshooting, understanding installation process

#### ğŸ“ **5. Verbose Mode**
- **Base:** Standard Minimal + Ultra-detailed output
- **Features:** Real-time command output, configuration tracking
- **Debugging:** Full bash debugging with `set -x`
- **Best for:** Development, deep system monitoring

### ğŸ“Š **Installation Modes Comparison**

| Feature | Ultra-Minimal | Standard | Advanced | Debug | Verbose |
|---------|---------------|----------|----------|-------|---------|
| **Web Server** | Nginx-light | OpenLiteSpeed | Choice | OpenLiteSpeed | OpenLiteSpeed |
| **Admin Panel** | âŒ | âœ… | âœ… | âœ… | âœ… |
| **WP-CLI** | âŒ | âœ… | âœ… | âœ… | âœ… |
| **Security** | Basic | Basic | Custom | Basic | Basic |
| **Logging** | Basic | Basic | Basic | **Detailed** | **Real-time** |
| **Resources** | ~300MB | ~500MB | Variable | ~500MB | ~500MB |
| **Best for** | Testing | Production | Custom | Troubleshoot | Development |
- **Best for:** Custom setups, specific requirements

### ï¿½ **Direct Installation (Command Line)**

```bash
# Ultra-minimal mode (Nginx)
sudo bash minimal_install.sh --ultra

# Advanced mode (custom configuration)
sudo bash minimal_install.sh --advanced

# Standard minimal (OpenLiteSpeed) - default when no parameters
sudo bash minimal_install.sh
```

### ğŸ“¦ **Component Manager**
```bash
# Add components after installation
sudo bash component_manager.sh
```
**Add when needed:** Redis, AI Dashboard, Cloudflare, Monitoring, etc.

---

## ğŸ“‹ **What Gets Installed When**

### Ultra-Minimal Mode (`--ultra`)
- âœ… **MariaDB** (database only)
- âœ… **PHP-FPM** (essential extensions only)
- âœ… **Nginx** (lightweight web server)
- âœ… **WordPress** (core files)
- âŒ No additional tools, no extras

### Standard Minimal Mode (default)
- âœ… Everything from Ultra-Minimal +
- âœ… **OpenLiteSpeed** (replaces Nginx for better performance)
- âœ… **WP-CLI** (WordPress management)
- âœ… **UFW Firewall** (basic security)
- âŒ No Redis, no monitoring, no extras

### Optional Components (Install Later)
- ğŸ“Š **Redis Cache** â†’ `bash helpers/install_redis.sh`
- ğŸ¤– **AI Dashboard** â†’ `bash helpers/ai_server_agent.sh`
- â˜ï¸ **Cloudflare Tunnel** â†’ `bash helpers/install_cloudflare.sh`
- ğŸ“ˆ **Monitoring Tools** â†’ `bash helpers/install_monitoring.sh`
- ğŸ›¡ï¸ **Advanced Security** â†’ `bash helpers/install_security.sh`

---

## ğŸ¯ **Clean System Benefits**

| Approach | Disk Usage | Memory | Boot Time | Maintenance |
|----------|------------|--------|-----------|-------------|
| Ultra-Minimal | ~300MB | ~200MB | ~30s | Minimal |
| Standard Minimal | ~500MB | ~300MB | ~45s | Low |
| Full Installation | ~2GB+ | ~800MB+ | ~90s+ | High |

---

## ğŸ” **Check What's Installed**

```bash
# Check core components only
bash helpers/check_core_dependencies.sh

# Check all components (enhanced)
bash helpers/check_core_dependencies_enhanced.sh        # Standard
bash helpers/check_core_dependencies_enhanced.sh --ultra # Ultra-minimal

# Component status overview
bash component_manager.sh

# Demo all options
bash helpers/clean_demo.sh
```

---

## ğŸ“¦ **Progressive Enhancement Examples**

### Scenario 1: Basic Website
```bash
sudo bash minimal_install.sh --ultra
# âœ… Ready for basic WordPress site
```

### Scenario 2: Performance-Critical Site
```bash
sudo bash minimal_install.sh
sudo bash helpers/install_redis.sh
# âœ… WordPress + Redis caching
```

### Scenario 3: Managed/Monitored Site
```bash
sudo bash minimal_install.sh
sudo bash helpers/install_redis.sh
sudo bash helpers/ai_server_agent.sh
# âœ… WordPress + Performance + AI Monitoring
```

### Scenario 4: Public Site with External Access
```bash
sudo bash minimal_install.sh
sudo bash helpers/install_redis.sh
sudo bash helpers/install_cloudflare.sh
# âœ… WordPress + Performance + Secure Access
```

---

## ğŸ§¹ **Keep It Clean**

### Remove Unused Components
```bash
# Interactive cleanup
bash component_manager.sh
# Select option 9: Cleanup Unused

# Manual cleanup
sudo apt autoremove --purge
sudo apt autoclean
```

### Check System Bloat
```bash
# See what's taking space
du -sh /var/cache/apt/
dpkg-query -Wf '${Installed-Size}\t${Package}\n' | sort -n | tail -20
```

---

## ï¿½ **Debugging & Troubleshooting**

### Debug Installation Issues
```bash
# Use debug mode for detailed logging
sudo bash minimal_install.sh --debug

# Use verbose mode for real-time output
sudo bash minimal_install.sh --verbose

# Check installation logs
tail -f /var/log/wordpress-installer/minimal_install.log
```

### Common Debug Commands
```bash
# Verify paths and structure
bash helpers/verify_paths.sh

# Test language system
bash helpers/test_language.sh

# Check for empty files
bash helpers/clean_empty_files.sh

# Clean up temporary files
bash quick_clean.sh
```

### Log Files Locations
```bash
# Installation logs
/var/log/wordpress-installer/minimal_install.log
/var/log/wordpress-installer/auto_install.log

# Service logs  
sudo journalctl -u lshttpd -f    # OpenLiteSpeed
sudo journalctl -u nginx -f     # Nginx
sudo journalctl -u mariadb -f   # MariaDB
```

### Verbose Mode Output Example
```bash
ğŸ“ [VERBOSE] Se actualizeazÄƒ lista de pachete...
ğŸ” [DEBUG] DEBIAN_FRONTEND setat la noninteractive  
ğŸ“ [EXEC] Actualizare pachete sistem
ğŸ“   Command: apt update
ğŸ“   Output: Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
ğŸ“   âœ… Success
```

---

## ï¿½ğŸ“– **Documentation**

- ğŸ“˜ **[Clean Approach Guide](documents/README_CLEAN_APPROACH.md)** - Detailed clean installation philosophy
- ğŸ”§ **[Component Management](component_manager.sh)** - Interactive component installation
- ğŸ“Š **[Project Structure](documents/PROJECT_STRUCTURE_AFTER_REORGANIZATION.md)** - File organization
- âš™ï¸ **[Advanced Configuration](documents/)** - AI, Cloudflare, Security guides

---

## ğŸ†˜ **Quick Troubleshooting**

### "Installation fails or stops"
```bash
# Use debug mode to see exactly what happens
sudo bash minimal_install.sh --debug

# For auto install with full automation
sudo bash auto_install.sh --tunnel-id YOUR_ID --auto

# Check specific logs
tail -f /var/log/wordpress-installer/minimal_install.log
```

### "System too slow/heavy"
```bash
# Check what's running
systemctl list-units --state=running
# Remove unnecessary services  
sudo bash component_manager.sh  # Option 9: Cleanup
# Or start ultra-minimal next time
sudo bash minimal_install.sh --ultra
```

### "Need feature X"
```bash
# Add components progressively
sudo bash component_manager.sh
# Select component to install
```

### "Want to start over"
```bash
# Clean slate
sudo bash cleanup.sh  # Remove everything
sudo bash minimal_install.sh --ultra  # Start minimal
```

### "Auto install not working"
```bash
# Check parameters
sudo bash auto_install.sh --help

# Use with full automation
sudo bash auto_install.sh --tunnel-id abc123 --domain site.com --email admin@site.com --auto

# Debug auto install issues
sudo bash auto_install.sh --tunnel-id test --auto 2>&1 | tee auto_debug.log
```

---

**ğŸ¯ Remember: Start minimal, add only what you need, keep it clean!**
